##### CORE BEHAVIOR #####

# Use 256 colors
set -g default-terminal "tmux-256color"
set -as terminal-overrides ",xterm-256color:Tc"

# Faster key response
set -sg escape-time 0

# Enable mouse support
set -g mouse on

# Start window & pane index at 1 (more natural)
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on

# History (scrollback)
set -g history-limit 50000


##### PREFIX OPTIMIZATION #####

# Change prefix from Ctrl+b to Ctrl+a (screen-style, easier)
unbind C-b
set -g prefix C-a
bind C-a send-prefix


##### PANE MANAGEMENT (VIM-LIKE) #####

# Split panes
bind | split-window -h
bind - split-window -v
unbind '"'
unbind %

# Navigate panes with vim keys
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Resize panes (repeatable)
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Quick pane cycling
bind Tab select-pane -t :.+
bind z resize-pane -Z


##### WINDOW MANAGEMENT #####

# Create / close windows
bind c new-window
bind q confirm-before -p "kill-pane #P?" kill-pane
bind Q kill-window

# Rename window quickly
bind r command-prompt -I "#W" "rename-window '%%'"

# Window navigation
bind -n C-Left  previous-window
bind -n C-Right next-window


##### COPY MODE (VIM STYLE) #####

setw -g mode-keys vi

# Start selection
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-selection-and-cancel

# Faster scrolling
bind -T copy-mode-vi J send -X scroll-down
bind -T copy-mode-vi K send -X scroll-up


##### STATUS BAR (CLEAN & USEFUL) #####

set -g status-interval 2
set -g status-position bottom
set -g status-style fg=white,bg=black

set -g status-left "#[fg=green]#S #[fg=white]| "
set -g status-right "#[fg=cyan]%Y-%m-%d #[fg=yellow]%H:%M"

setw -g window-status-current-style fg=black,bg=green
setw -g window-status-style fg=white,bg=black
setw -g window-status-current-format " #I:#W "
setw -g window-status-format " #I:#W "


##### SESSION MANAGEMENT #####

# Reload config
bind R source-file ~/.tmux.conf \; display-message "tmux.conf reloaded âœ”"

# Quickly switch sessions
bind s choose-tree -Zs


##### QUALITY OF LIFE #####

# Automatically rename windows
setw -g automatic-rename on
setw -g automatic-rename-format "#W"

# Keep SSH agent
set -g update-environment "SSH_AUTH_SOCK SSH_AGENT_PID"

# Visual bell instead of sound
set -g visual-bell on